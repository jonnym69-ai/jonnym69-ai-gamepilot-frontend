import{r as y,j as e}from"./index-db369dc9.js";import"./useCurrentMood-a662386a.js";import{u as se}from"./useLibraryStore-cd6ac89d.js";import{u as le}from"./useLibraryPersona-9e7a4be7.js";import{u as oe}from"./useMoodRecommendations-e99c9538.js";import{M as W}from"./masterMoods-2bce0da6.js";const z={USER_IDENTITY:"gamepilot-user-identity",USER_PROFILE:"gamepilot-user-profile",USER_PREFERENCES:"gamepilot-user-preferences",USER_PLAYSTYLE:"gamepilot-user-playstyle",USER_GENRES:"gamepilot-user-genres",USER_MOODS:"gamepilot-user-moods",USER_STATS:"gamepilot-user-stats"};class H{get(n){try{const d=localStorage.getItem(n);return d?JSON.parse(d):null}catch(d){return console.error(`Error reading from localStorage for key ${n}:`,d),null}}set(n,d){try{localStorage.setItem(n,JSON.stringify(d))}catch(r){console.error(`Error writing to localStorage for key ${n}:`,r)}}remove(n){try{localStorage.removeItem(n)}catch(d){console.error(`Error removing from localStorage for key ${n}:`,d)}}getUserIdentity(){return this.get(z.USER_IDENTITY)}setUserIdentity(n){this.set(z.USER_IDENTITY,n)}getUserProfile(){return this.get(z.USER_PROFILE)}setUserProfile(n){this.set(z.USER_PROFILE,n)}getUserPreferences(){return this.get(z.USER_PREFERENCES)}setUserPreferences(n){this.set(z.USER_PREFERENCES,n)}getUserPlaystyle(){return this.get(z.USER_PLAYSTYLE)}setUserPlaystyle(n){this.set(z.USER_PLAYSTYLE,n)}getUserGenres(){return this.get(z.USER_GENRES)||[]}setUserGenres(n){this.set(z.USER_GENRES,n)}getUserMoods(){return this.get(z.USER_MOODS)||[]}setUserMoods(n){this.set(z.USER_MOODS,n)}getUserStats(){return this.get(z.USER_STATS)}setUserStats(n){this.set(z.USER_STATS,n)}initializeDefaultData(){const n={profile:{id:`user-${Date.now()}`,username:`gamer_${Math.floor(Math.random()*1e4)}`,displayName:"New Gamer",avatar:"",joinedAt:new Date().toISOString(),lastActive:new Date().toISOString(),bio:"Passionate gamer with diverse interests",isPublic:!1,level:1,experience:0},preferences:{theme:"dark",language:"en",timezone:"UTC",notifications:{email:!0,push:!0,achievements:!0,recommendations:!0,friendActivity:!1},privacy:{profileVisibility:"private",showPlaytime:!0,showAchievements:!0,showGameLibrary:!1},display:{compactMode:!1,showGameCovers:!0,animateTransitions:!0,showRatings:!0},profileVisibility:"private",showPlaytime:!0,showAchievements:!0,showGameLibrary:!1},playstyle:{primary:{id:"casual",name:"Casual",description:"Relaxed gaming experience",icon:"ðŸŽ®",color:"#4CAF50",traits:["relaxed","exploratory"]},traits:["relaxed","exploratory"],preferences:{sessionLength:"short",difficulty:"casual",socialPreference:"solo",storyFocus:50,graphicsFocus:50,gameplayFocus:50}},favoriteGenres:[],favoriteMoods:[],stats:{totalPlaytime:0,gamesPlayed:0,gamesCompleted:0,achievementsUnlocked:0,averageRating:0,favoriteGenres:[],favoriteMoods:[],currentStreak:0,longestStreak:0},connectedPlatforms:[],customTags:[]};return this.get(z.USER_IDENTITY)||this.set(z.USER_IDENTITY,n),this.get(z.USER_IDENTITY)||n}clearAllUserData(){Object.values(z).forEach(n=>{this.remove(n)})}exportUserData(){const n=this.getUserIdentity();if(!n)return null;try{return JSON.stringify(n,null,2)}catch(d){return console.error("Error exporting user data:",d),null}}importUserData(n){try{const d=JSON.parse(n);return d&&typeof d=="object"?(this.setUserIdentity(d),!0):!1}catch(d){return console.error("Error importing user data:",d),!1}}updateUserPreferences(n){const d=this.getUserPreferences();if(!d)return null;const r={...d,...n};return this.setUserPreferences(r),r}updateUserPlaystyle(n){const d=this.getUserPlaystyle();if(!d)return null;const r={...d,...n};return this.setUserPlaystyle(r),r}updateUserGenre(n,d){const r=this.getUserGenres(),m=r.findIndex(p=>p.id===n);if(m>=0){const p=[...r];return p[m]={...p[m],...d},this.setUserGenres(p),p}return r}updateUserMood(n,d){const r=this.getUserMoods(),m=r.findIndex(p=>p.id===n);if(m>=0){const p=[...r];return p[m]={...p[m],...d},this.setUserMoods(p),p}return r}updateUserStats(n){const d=this.getUserStats();if(!d)return null;const r={...d,...n};return this.setUserStats(r),r}}const ce=({onProfileUpdate:g})=>{var B;const n=new H,{games:d}=se(),[r,m]=y.useState(null),[p,S]=y.useState(!1),[F,$]=y.useState({}),[A,N]=y.useState([]),[w,C]=y.useState(!1),[f,M]=y.useState({name:"",value:"",type:"text",isPublic:!1,order:0}),[_,R]=y.useState(null),I=y.useRef(null),[D,P]=y.useState(!0),E=i=>{var v;const j=(v=i.target.files)==null?void 0:v[0];if(j){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(j.type)){alert("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}if(j.size>5242880){alert("Image size must be less than 5MB");return}const l=new FileReader;l.onload=s=>{var t;const a=(t=s.target)==null?void 0:t.result;R(a),o("avatar",a)},l.readAsDataURL(j)}},L=()=>{R(null),o("avatar",null)};y.useEffect(()=>{(()=>{const j=n.getUserProfile();if(j)m(j),$(j),N(j.customFields||[]);else{const v=n.initializeDefaultData().profile;m(v),$(v),N(v.customFields||[])}P(!1)})()},[]);const Y=()=>{if(!r)return;const i={...r,...F,lastActive:new Date().toISOString(),customFields:A};n.setUserProfile(i),m(i),S(!1),C(!1),g==null||g(i)},O=()=>{r&&$(r),S(!1)},o=(i,j)=>{$(v=>({...v,[i]:j}))},u=()=>{var j;if(!((j=f.name)!=null&&j.trim()))return;const i={id:`custom-${Date.now()}`,name:f.name.trim(),value:f.value||"",type:f.type||"text",isPublic:f.isPublic||!1,order:A.length};N([...A,i]),M({name:"",value:"",type:"text",isPublic:!1,order:0}),C(!1)},x=(i,j)=>{N(A.map(v=>v.id===i?{...v,...j}:v))},b=i=>{N(A.filter(j=>j.id!==i))},G=(i,j)=>{const v=[...A],[V]=v.splice(i,1);v.splice(j,0,V);const J=v.map((l,s)=>({...l,order:s}));N(J)},q=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),U=()=>{const i=[];return r!=null&&r.avatar&&i.push({name:"Profile Picture",icon:"ðŸ“¸",color:"bg-purple-500"}),r!=null&&r.bio&&r.bio.length>10&&i.push({name:"Storyteller",icon:"ðŸ“–",color:"bg-blue-500"}),r!=null&&r.location&&i.push({name:"Location Pioneer",icon:"ðŸ“",color:"bg-green-500"}),r!=null&&r.website&&i.push({name:"Web Wanderer",icon:"ðŸŒ",color:"bg-cyan-500"}),r!=null&&r.customFields&&r.customFields.length>0&&i.push({name:"Custom Creator",icon:"ðŸŽ¨",color:"bg-pink-500"}),d&&d.length>0&&i.push({name:"Game Collector",icon:"ðŸŽ®",color:"bg-gaming-primary"}),d&&d.reduce((j,v)=>j+(v.playtime||0),0)>100&&i.push({name:"Gaming Veteran",icon:"ðŸ†",color:"bg-yellow-500"}),i};return(()=>{let i=0;return r!=null&&r.displayName&&(i+=15),r!=null&&r.avatar&&(i+=20),r!=null&&r.bio&&(i+=15),r!=null&&r.email&&(i+=10),r!=null&&r.location&&(i+=10),r!=null&&r.website&&(i+=10),r!=null&&r.customFields&&r.customFields.length>0&&(i+=10),d&&d.length>0&&(i+=10),Math.min(i,100)})(),D?e.jsxs("div",{className:"glass-morphism rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-xl mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"ðŸ‘¤"})}),e.jsx("p",{className:"text-gray-400",children:"Loading profile..."})]}):r?e.jsxs("div",{className:"glass-morphism rounded-xl p-6 cinematic-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-white flex items-center gap-3",children:[e.jsx("span",{children:"ðŸ‘¤"}),"User Profile"]}),e.jsx("button",{onClick:()=>p?O():S(!0),className:"px-4 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity",children:p?"Cancel":"Edit Profile"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block group",children:[e.jsx("div",{className:"w-32 h-32 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-full mx-auto mb-4 flex items-center justify-center ring-4 ring-white/20 hover:ring-white/40 transition-all duration-300",children:_||r.avatar?e.jsx("img",{src:_||r.avatar,alt:r.displayName,className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-5xl",children:"ðŸ‘¤"})}),p&&e.jsxs("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 flex gap-2",children:[e.jsx("button",{onClick:()=>{var i;return(i=I.current)==null?void 0:i.click()},className:"w-8 h-8 bg-gaming-accent rounded-full flex items-center justify-center text-white text-sm hover:bg-gaming-accent/80 transition-colors shadow-lg",title:"Upload new avatar",children:"ðŸ“·"}),(_||r.avatar)&&e.jsx("button",{onClick:L,className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white text-sm hover:bg-red-700 transition-colors shadow-lg",title:"Remove avatar",children:"ï¿½ï¸"})]}),e.jsx("input",{ref:I,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:E,className:"hidden","aria-label":"Upload profile avatar",title:"Choose an image file for your profile avatar"})]}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:p?e.jsx("input",{type:"text",value:F.displayName||"",onChange:i=>o("displayName",i.target.value),className:"bg-gray-800 border border-gray-700 rounded px-2 py-1 text-center text-white",placeholder:"Display Name"}):r.displayName}),e.jsxs("p",{className:"text-gray-400 mb-4",children:["@",p?e.jsx("input",{type:"text",value:F.username||"",onChange:i=>o("username",i.target.value),className:"bg-gray-800 border border-gray-700 rounded px-2 py-1 text-center text-gray-400",placeholder:"username"}):r.username]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Games Owned:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gaming-accent",children:"ðŸŽ®"}),e.jsx("span",{className:"text-white font-medium",children:(d==null?void 0:d.length)||0})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Hours Played:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-400",children:"â±ï¸"}),e.jsxs("span",{className:"text-white font-medium",children:[(d==null?void 0:d.reduce((i,j)=>i+(j.playtime||0),0))||0,"h"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Achievements:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-400",children:"ðŸ†"}),e.jsx("span",{className:"text-white font-medium",children:(d==null?void 0:d.reduce((i,j)=>{var v;return i+(((v=j.achievements)==null?void 0:v.length)||0)},0))||0})]})]}),e.jsxs("div",{className:"border-t border-gray-700 pt-3 mt-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Joined:"}),e.jsx("span",{className:"text-white",children:q(r.joinedAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Last Active:"}),e.jsx("span",{className:"text-white",children:q(r.lastActive)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Profile:"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${r.isPublic?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:r.isPublic?"Public":"Private"})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-2 space-y-4",children:p?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:F.email||"",onChange:i=>o("email",i.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:border-gaming-accent focus:outline-none",placeholder:"your@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Bio"}),e.jsx("textarea",{value:F.bio||"",onChange:i=>o("bio",i.target.value),rows:4,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:border-gaming-accent focus:outline-none resize-none",placeholder:"Tell us about your gaming style..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Location"}),e.jsx("input",{type:"text",value:F.location||"",onChange:i=>o("location",i.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:border-gaming-accent focus:outline-none",placeholder:"City, Country"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Website"}),e.jsx("input",{type:"url",value:F.website||"",onChange:i=>o("website",i.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:border-gaming-accent focus:outline-none",placeholder:"https://yourwebsite.com"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:F.isPublic||!1,onChange:i=>o("isPublic",i.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsx("span",{className:"text-sm text-gray-300",children:"Make my profile public"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Public profiles can be discovered by other users"})]}),e.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Custom Fields"}),e.jsx("button",{type:"button",onClick:()=>C(!0),className:"px-3 py-1 bg-gaming-accent text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:"+ Add Field"})]}),A.length>0&&e.jsx("div",{className:"space-y-3 mb-4",children:A.map((i,j)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsx("input",{type:"text",value:i.name,onChange:v=>x(i.id,{name:v.target.value}),className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Field name"}),i.type==="textarea"?e.jsx("textarea",{value:i.value,onChange:v=>x(i.id,{value:v.target.value}),className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm resize-none",placeholder:"Field value",rows:2}):e.jsx("input",{type:i.type,value:i.value,onChange:v=>x(i.id,{value:v.target.value}),className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Field value"})]}),e.jsxs("select",{value:i.type,onChange:v=>x(i.id,{type:v.target.value}),className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm","aria-label":`Field type for ${i.name}`,children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"url",children:"URL"}),e.jsx("option",{value:"textarea",children:"Textarea"})]}),e.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-300",children:[e.jsx("input",{type:"checkbox",checked:i.isPublic,onChange:v=>x(i.id,{isPublic:v.target.checked}),className:"w-3 h-3"}),"Public"]}),e.jsxs("div",{className:"flex gap-1",children:[j>0&&e.jsx("button",{type:"button",onClick:()=>G(j,j-1),className:"px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-xs",children:"â†‘"}),j<A.length-1&&e.jsx("button",{type:"button",onClick:()=>G(j,j+1),className:"px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-xs",children:"â†“"}),e.jsx("button",{type:"button",onClick:()=>b(i.id),className:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xs",children:"Ã—"})]})]},i.id))}),w&&e.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Add New Custom Field"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",value:f.name||"",onChange:i=>M({...f,name:i.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Field name"}),f.type==="textarea"?e.jsx("textarea",{value:f.value||"",onChange:i=>M({...f,value:i.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm resize-none",placeholder:"Field value",rows:2}):e.jsx("input",{type:f.type||"text",value:f.value||"",onChange:i=>M({...f,value:i.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Field value"})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.jsxs("select",{value:f.type||"text",onChange:i=>M({...f,type:i.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm","aria-label":"New custom field type",children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"url",children:"URL"}),e.jsx("option",{value:"textarea",children:"Textarea"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx("input",{type:"checkbox",checked:f.isPublic||!1,onChange:i=>M({...f,isPublic:i.target.checked}),className:"w-4 h-4"}),"Public"]}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx("button",{type:"button",onClick:()=>{C(!1),M({name:"",value:"",type:"text",isPublic:!1,order:0})},className:"px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm",children:"Cancel"}),e.jsx("button",{type:"button",onClick:u,disabled:!((B=f.name)!=null&&B.trim()),className:"px-3 py-1 bg-gaming-accent text-white rounded hover:opacity-90 transition-opacity text-sm disabled:opacity-50",children:"Add Field"})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:Y,className:"px-6 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Save Changes"}),e.jsx("button",{onClick:O,className:"px-6 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}):e.jsxs("div",{className:"space-y-4",children:[r.email&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-1",children:"Email"}),e.jsx("p",{className:"text-white",children:r.email})]}),r.bio&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-1",children:"Bio"}),e.jsx("p",{className:"text-gray-100 leading-relaxed",children:r.bio})]}),r.location&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-1",children:"Location"}),e.jsxs("p",{className:"text-white flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“"}),r.location]})]}),r.website&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-1",children:"Website"}),e.jsxs("a",{href:r.website,target:"_blank",rel:"noopener noreferrer",className:"text-accent-400 hover:text-accent-300 transition-colors flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ”—"}),r.website.replace(/^https?:\/\//,"")]})]}),r.customFields&&r.customFields.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Custom Fields"}),e.jsx("div",{className:"space-y-2",children:r.customFields.sort((i,j)=>i.order-j.order).map(i=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("h5",{className:"text-sm font-medium text-white min-w-0",children:[i.name,":"]}),e.jsx("div",{className:"flex-1 min-w-0",children:i.type==="url"&&i.value?e.jsx("a",{href:i.value,target:"_blank",rel:"noopener noreferrer",className:"text-accent-400 hover:text-accent-300 transition-colors break-all",children:i.value}):i.type==="textarea"?e.jsx("p",{className:"text-gray-100 whitespace-pre-wrap break-all",children:i.value}):i.type==="email"&&i.value?e.jsx("a",{href:`mailto:${i.value}`,className:"text-accent-400 hover:text-accent-300 transition-colors break-all",children:i.value}):e.jsx("p",{className:"text-gray-100 break-all",children:i.value||e.jsx("span",{className:"text-gray-500",children:"Not set"})})}),i.isPublic&&e.jsx("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded",children:"Public"})]},i.id))})]}),U().length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-300 mb-3 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ†"}),"Achievements (",U().length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:U().map((i,j)=>e.jsxs("div",{className:`${i.color} text-white px-3 py-2 rounded-lg text-xs font-medium flex items-center gap-2 shadow-lg hover:scale-105 transition-transform duration-200`,style:{animationDelay:`${j*100}ms`},children:[e.jsx("span",{className:"text-sm",children:i.icon}),e.jsx("span",{children:i.name})]},i.name))})]}),!r.email&&!r.bio&&!r.location&&!r.website&&(!r.customFields||r.customFields.length===0)&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-400",children:'No additional information added yet. Click "Edit Profile" to personalize your profile.'})})]})})]})]}):e.jsxs("div",{className:"glass-morphism rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-xl mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"âš ï¸"})}),e.jsx("p",{className:"text-gray-400",children:"Unable to load profile"})]})},de=({onPreferencesUpdate:g})=>{var Y,O,o,u,x,b,G,q,U,B,i,j,v,V,J;const n=new H,[d,r]=y.useState(null),[m,p]=y.useState({}),[S,F]=y.useState([]),[$,A]=y.useState(!1),[N,w]=y.useState({name:"",value:"",type:"text",category:"general",order:0,isPublic:!1,options:[]}),[C,f]=y.useState(!0);y.useEffect(()=>{(()=>{const s=n.getUserPreferences();if(s)r(s),p(s),F(s.customItems||[]);else{const a=n.initializeDefaultData().preferences;r(a),p(a),F(a.customItems||[])}f(!1)})()},[]);const M=()=>{if(!d)return;const l={...d,...m,notifications:{...d.notifications,...m.notifications},privacy:{...d.privacy,...m.privacy},display:{...d.display,...m.display},customItems:S};n.setUserPreferences(l),r(l),A(!1),g==null||g(l)},_=()=>{const l=n.initializeDefaultData().preferences;p(l)},R=(l,s,a)=>{p(l==="notifications"||l==="privacy"||l==="display"?t=>({...t,[l]:{...t[l],[s]:a}}):t=>({...t,[s]:a}))},I=()=>{var s;if(!((s=N.name)!=null&&s.trim()))return;const l={id:`custom-${Date.now()}`,name:N.name.trim(),value:N.type==="boolean"?!1:N.value||"",type:N.type||"text",category:N.category||"general",order:S.length,isPublic:N.isPublic||!1,options:N.options||[]};F([...S,l]),w({name:"",value:"",type:"text",category:"general",order:0,isPublic:!1,options:[]}),A(!1)},D=(l,s)=>{F(S.map(a=>a.id===l?{...a,...s}:a))},P=l=>{F(S.filter(s=>s.id!==l))},E=(l,s)=>{const a=[...S],[t]=a.splice(l,1);a.splice(s,0,t);const c=a.map((h,k)=>({...h,order:k}));F(c)},L=l=>S.filter(s=>s.category===l).sort((s,a)=>s.order-a.order);return C?e.jsxs("div",{className:"glass-morphism rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-xl mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"âš™ï¸"})}),e.jsx("p",{className:"text-gray-400",children:"Loading preferences..."})]}):d?e.jsxs("div",{className:"glass-morphism rounded-xl p-6 cinematic-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-white flex items-center gap-3",children:[e.jsx("span",{children:"âš™ï¸"}),"Preferences"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:_,className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Reset to Default"}),e.jsx("button",{onClick:M,className:"px-4 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity",children:"Save Changes"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"General"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Theme"}),e.jsxs("select",{value:m.theme||"dark",onChange:l=>R("theme","theme",l.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",children:[e.jsx("option",{value:"dark",children:"ðŸŒ™ Dark"}),e.jsx("option",{value:"light",children:"â˜€ï¸ Light"}),e.jsx("option",{value:"auto",children:"ðŸ”„ Auto"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Language"}),e.jsxs("select",{value:m.language||"en",onChange:l=>R("language","language",l.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"EspaÃ±ol"}),e.jsx("option",{value:"fr",children:"FranÃ§ais"}),e.jsx("option",{value:"de",children:"Deutsch"}),e.jsx("option",{value:"ja",children:"æ—¥æœ¬èªž"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Timezone"}),e.jsxs("select",{value:m.timezone||"UTC",onChange:l=>R("timezone","timezone",l.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",children:[e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"America/New_York",children:"Eastern Time"}),e.jsx("option",{value:"America/Chicago",children:"Central Time"}),e.jsx("option",{value:"America/Denver",children:"Mountain Time"}),e.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),e.jsx("option",{value:"Europe/London",children:"London"}),e.jsx("option",{value:"Europe/Paris",children:"Paris"}),e.jsx("option",{value:"Asia/Tokyo",children:"Tokyo"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Display"}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((Y=m.display)==null?void 0:Y.compactMode)||!1,onChange:l=>R("display","compactMode",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Compact Mode"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Show more content in less space"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((O=m.display)==null?void 0:O.showGameCovers)!==!1,onChange:l=>R("display","showGameCovers",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Show Game Covers"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Display game cover images"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((o=m.display)==null?void 0:o.animateTransitions)!==!1,onChange:l=>R("display","animateTransitions",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Animate Transitions"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enable smooth animations"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((u=m.display)==null?void 0:u.showRatings)!==!1,onChange:l=>R("display","showRatings",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Show Ratings"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Display game ratings"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Notifications"}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((x=m.notifications)==null?void 0:x.email)!==!1,onChange:l=>R("notifications","email",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Email Notifications"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Receive updates via email"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((b=m.notifications)==null?void 0:b.push)!==!1,onChange:l=>R("notifications","push",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Push Notifications"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Browser push notifications"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((G=m.notifications)==null?void 0:G.achievements)!==!1,onChange:l=>R("notifications","achievements",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Achievement Alerts"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Notify about new achievements"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((q=m.notifications)==null?void 0:q.recommendations)!==!1,onChange:l=>R("notifications","recommendations",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Recommendations"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Get personalized game suggestions"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((U=m.notifications)==null?void 0:U.friendActivity)||!1,onChange:l=>R("notifications","friendActivity",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Friend Activity"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Updates about friends' gaming"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Privacy"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Profile Visibility"}),e.jsxs("select",{value:((B=m.privacy)==null?void 0:B.profileVisibility)||"private",onChange:l=>R("privacy","profileVisibility",l.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",children:[e.jsx("option",{value:"public",children:"ðŸŒ Public"}),e.jsx("option",{value:"friends",children:"ðŸ‘¥ Friends Only"}),e.jsx("option",{value:"private",children:"ðŸ”’ Private"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Control who can see your profile"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((i=m.privacy)==null?void 0:i.showPlaytime)!==!1,onChange:l=>R("privacy","showPlaytime",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Show Playtime"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Display your total playtime"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((j=m.privacy)==null?void 0:j.showAchievements)!==!1,onChange:l=>R("privacy","showAchievements",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Show Achievements"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Display your achievements"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:((v=m.privacy)==null?void 0:v.showGameLibrary)||!1,onChange:l=>R("privacy","showGameLibrary",l.target.checked),className:"w-4 h-4 text-gaming-accent bg-gray-800 border-gray-600 rounded focus:ring-gaming-accent"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Show Game Library"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Display your game collection"})]})]}),L("privacy").map((l,s)=>{var a;return e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-800/50 rounded-lg",children:[e.jsx("input",{type:"text",value:l.name,onChange:t=>D(l.id,{name:t.target.value}),className:"flex-1 px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Preference name"}),l.type==="boolean"?e.jsx("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:e.jsx("input",{type:"checkbox",checked:l.value,onChange:t=>D(l.id,{value:t.target.checked}),className:"w-4 h-4"})}):l.type==="select"?e.jsx("select",{value:l.value,onChange:t=>D(l.id,{value:t.target.value}),className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",children:(a=l.options)==null?void 0:a.map(t=>e.jsx("option",{value:t,children:t},t))}):e.jsx("input",{type:l.type,value:l.value,onChange:t=>D(l.id,{value:t.target.value}),className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm w-32",placeholder:"Value"}),e.jsxs("div",{className:"flex gap-1",children:[s>0&&e.jsx("button",{type:"button",onClick:()=>E(S.findIndex(t=>t.id===l.id),S.findIndex(t=>t.id===l.id)-1),className:"px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-xs",children:"â†‘"}),s<L("privacy").length-1&&e.jsx("button",{type:"button",onClick:()=>E(S.findIndex(t=>t.id===l.id),S.findIndex(t=>t.id===l.id)+1),className:"px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-xs",children:"â†“"}),e.jsx("button",{type:"button",onClick:()=>P(l.id),className:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xs",children:"Ã—"})]})]},l.id)})]})]}),e.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Custom Preferences"}),e.jsx("button",{type:"button",onClick:()=>A(!0),className:"px-4 py-2 bg-gaming-accent text-white rounded-lg hover:opacity-90 transition-opacity",children:"+ Add Custom Preference"})]}),$&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Add New Custom Preference"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsx("input",{type:"text",value:N.name||"",onChange:l=>w({...N,name:l.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Preference name"}),e.jsxs("select",{value:N.type||"text",onChange:l=>w({...N,type:l.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",children:[e.jsx("option",{value:"text",children:"Text"}),e.jsx("option",{value:"number",children:"Number"}),e.jsx("option",{value:"boolean",children:"Boolean"}),e.jsx("option",{value:"select",children:"Select"})]}),e.jsxs("select",{value:N.category||"general",onChange:l=>w({...N,category:l.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"display",children:"Display"}),e.jsx("option",{value:"notifications",children:"Notifications"}),e.jsx("option",{value:"privacy",children:"Privacy"})]}),N.type==="select"&&e.jsx("input",{type:"text",value:((V=N.options)==null?void 0:V.join(", "))||"",onChange:l=>w({...N,options:l.target.value.split(",").map(s=>s.trim()).filter(Boolean)}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm md:col-span-2 lg:col-span-3",placeholder:"Options (comma-separated)"}),N.type!=="boolean"&&e.jsx("input",{type:N.type==="number"?"number":"text",value:N.value||"",onChange:l=>w({...N,value:N.type==="number"?parseFloat(l.target.value)||0:l.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Default value"})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx("input",{type:"checkbox",checked:N.isPublic||!1,onChange:l=>w({...N,isPublic:l.target.checked}),className:"w-4 h-4"}),"Public"]}),e.jsxs("div",{className:"flex gap-2 ml-auto",children:[e.jsx("button",{type:"button",onClick:()=>{A(!1),w({name:"",value:"",type:"text",category:"general",order:0,isPublic:!1,options:[]})},className:"px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm",children:"Cancel"}),e.jsx("button",{type:"button",onClick:I,disabled:!((J=N.name)!=null&&J.trim()),className:"px-3 py-1 bg-gaming-accent text-white rounded hover:opacity-90 transition-opacity text-sm disabled:opacity-50",children:"Add Preference"})]})]})]}),["general","display","notifications","privacy"].map(l=>{const s=L(l);return s.length===0?null:e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"text-lg font-medium text-white mb-3 capitalize",children:[l," Custom Preferences"]}),e.jsx("div",{className:"space-y-2",children:s.map(a=>{var t;return e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/30 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-300",children:a.name}),e.jsx("div",{className:"mt-1",children:a.type==="boolean"?e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.value,onChange:c=>D(a.id,{value:c.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-white",children:a.value?"Enabled":"Disabled"})]}):a.type==="select"?e.jsx("select",{value:a.value,onChange:c=>D(a.id,{value:c.target.value}),className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm",children:(t=a.options)==null?void 0:t.map(c=>e.jsx("option",{value:c,children:c},c))}):e.jsx("input",{type:a.type,value:a.value,onChange:c=>D(a.id,{value:c.target.value}),className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm w-full"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.isPublic&&e.jsx("span",{className:"text-xs px-2 py-1 bg-green-500/20 text-green-400 rounded",children:"Public"}),e.jsx("button",{type:"button",onClick:()=>P(a.id),className:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xs",children:"Remove"})]})]},a.id)})})]},l)})]})]}):e.jsxs("div",{className:"glass-morphism rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-xl mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"âš ï¸"})}),e.jsx("p",{className:"text-gray-400",children:"Unable to load preferences"})]})},K=[{id:"explorer",name:"Explorer",description:"Loves discovering new worlds and secrets",icon:"ðŸ—ºï¸",color:"from-green-500 to-emerald-600",traits:["curious","thorough","patient"]},{id:"achiever",name:"Achiever",description:"Driven by completing challenges and earning rewards",icon:"ðŸ†",color:"from-yellow-500 to-orange-600",traits:["competitive","dedicated","goal-oriented"]},{id:"storyteller",name:"Storyteller",description:"Values narrative and emotional experiences",icon:"ðŸ“š",color:"from-purple-500 to-pink-600",traits:["imaginative","empathetic","reflective"]},{id:"competitor",name:"Competitor",description:"Thrives on challenge and competition",icon:"âš”ï¸",color:"from-red-500 to-rose-600",traits:["aggressive","strategic","focused"]},{id:"creator",name:"Creator",description:"Enjoys building, customizing, and expressing creativity",icon:"ðŸŽ¨",color:"from-blue-500 to-indigo-600",traits:["creative","innovative","expressive"]},{id:"socializer",name:"Socializer",description:"Values community and multiplayer experiences",icon:"ðŸ‘¥",color:"from-teal-500 to-cyan-600",traits:["outgoing","cooperative","friendly"]}],X=[{id:"action",name:"Action",tags:["fast-paced","exciting"]},{id:"adventure",name:"Adventure",tags:["exploration","story"]},{id:"rpg",name:"RPG",tags:["character progression","story"]},{id:"strategy",name:"Strategy",tags:["tactical","planning"]},{id:"simulation",name:"Simulation",tags:["realistic","detailed"]},{id:"sports",name:"Sports",tags:["competitive","athletic"]},{id:"racing",name:"Racing",tags:["speed","competition"]},{id:"puzzle",name:"Puzzle",tags:["brain-teaser","logic"]},{id:"platformer",name:"Platformer",tags:["precision","jumping"]},{id:"fps",name:"FPS",tags:["shooting","first-person"]},{id:"moba",name:"MOBA",tags:["team-based","competitive"]},{id:"roguelike",name:"Roguelike",tags:["procedural","challenging"]},{id:"horror",name:"Horror",tags:["scary","suspenseful"]},{id:"indie",name:"Indie",tags:["unique","creative"]},{id:"casual",name:"Casual",tags:["relaxing","accessible"]}],Z=[{id:"relaxed",name:"Relaxed",emoji:"ðŸ˜Œ",color:"from-green-500 to-teal-500",associatedGenres:["simulation","puzzle","casual"]},{id:"energetic",name:"Energetic",emoji:"âš¡",color:"from-yellow-500 to-orange-500",associatedGenres:["action","racing","sports"]},{id:"focused",name:"Focused",emoji:"ðŸŽ¯",color:"from-blue-500 to-indigo-500",associatedGenres:["strategy","puzzle","rpg"]},{id:"creative",name:"Creative",emoji:"ðŸŽ¨",color:"from-purple-500 to-pink-500",associatedGenres:["simulation","indie","adventure"]},{id:"competitive",name:"Competitive",emoji:"ðŸ†",color:"from-red-500 to-rose-500",associatedGenres:["fps","moba","sports","fighting"]},{id:"social",name:"Social",emoji:"ðŸ‘¥",color:"from-cyan-500 to-blue-500",associatedGenres:["moba","mmorpg","party"]},{id:"nostalgic",name:"Nostalgic",emoji:"ðŸ“»",color:"from-amber-500 to-yellow-500",associatedGenres:["retro","platformer","indie"]},{id:"adventurous",name:"Adventurous",emoji:"ðŸ—ºï¸",color:"from-emerald-500 to-green-500",associatedGenres:["adventure","rpg","exploration"]}],me=({onGenresUpdate:g})=>{var Y,O;const[n,d]=y.useState([]),[r,m]=y.useState([]),[p,S]=y.useState(!0),[F,$]=y.useState(!1),[A,N]=y.useState(null),w=new H,[C,f]=y.useState({id:"",name:"",tags:[]});y.useEffect(()=>{(()=>{const u=w.getUserGenres();d(u);const x=u.filter(b=>!X.find(G=>G.id===b.id));m(x.map(b=>({id:b.id,name:b.name,tags:b.tags}))),S(!1)})()},[]);const M=o=>{let u=[...n];if(n.find(b=>b.id===o))u=n.filter(b=>b.id!==o);else{const b=[...X].find(G=>G.id===o);if(b){const G={...b,preference:50};u=[...n,G]}else u=n}d(u),w.setUserGenres(u),g==null||g(u)},_=()=>{var u;if(!((u=C.name)!=null&&u.trim()))return;const o={id:`custom-${Date.now()}`,name:C.name.trim(),tags:C.tags||[]};m([...r,o]),f({id:"",name:"",tags:[]}),$(!1)},R=(o,u)=>{m(r.map(x=>x.id===o?{...x,...u}:x)),d(n.map(x=>x.id===o?{...x,...u}:x))},I=o=>{m(r.filter(x=>x.id!==o));const u=n.filter(x=>x.id!==o);d(u),w.setUserGenres(u),g==null||g(u)},D=(o,u)=>{const x=[...n],[b]=x.splice(o,1);x.splice(u,0,b),d(x),w.setUserGenres(x),g==null||g(x)},P=(o,u)=>{const x=n.map(b=>b.id===o?{...b,preference:u}:b);d(x),w.setUserGenres(x),g==null||g(x)},E=o=>o>=80?"from-green-500 to-emerald-600":o>=60?"from-blue-500 to-cyan-600":o>=40?"from-yellow-500 to-orange-600":"from-gray-500 to-gray-600",L=o=>o>=80?"Love":o>=60?"Like":o>=40?"Neutral":"Dislike";return p?e.jsxs("div",{className:"glass-morphism rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-xl mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"ðŸŽ­"})}),e.jsx("p",{className:"text-gray-400",children:"Loading genres..."})]}):e.jsxs("div",{className:"glass-morphism rounded-xl p-6 cinematic-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-white flex items-center gap-3",children:[e.jsx("span",{children:"ðŸŽ­"}),"Favorite Genres"]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[n.length," selected"]})]}),e.jsx("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-300",children:"Select your favorite game genres and rate your preference level. This helps us provide better recommendations."})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...X,...r].map(o=>{var q;const u=n.find(U=>U.id===o.id),x=!!u,b=(u==null?void 0:u.preference)||0,G=r.find(U=>U.id===o.id);return e.jsxs("div",{className:`
                relative group cursor-pointer transition-all duration-300 transform
                ${x?"scale-105":"scale-100"}
                ${x?"ring-2 ring-gaming-accent":""}
              `,onClick:()=>M(o.id),children:[e.jsxs("div",{className:`
                glass-morphism rounded-lg p-4 border-2 transition-all duration-200
                ${x?"border-gaming-accent bg-gaming-accent/10":"border-gray-700 hover:border-gray-600"}
              `,children:[e.jsxs("div",{className:`
                  w-12 h-12 rounded-lg mx-auto mb-3 flex items-center justify-center text-2xl
                  bg-gradient-to-r ${x?E(b):"from-gray-500 to-gray-600"}
                `,children:[o.id==="action"&&"âš”ï¸",o.id==="adventure"&&"ðŸ—ºï¸",o.id==="rpg"&&"ðŸ‰",o.id==="strategy"&&"â™Ÿï¸",o.id==="simulation"&&"ðŸ—ï¸",o.id==="sports"&&"âš½",o.id==="racing"&&"ðŸŽï¸",o.id==="puzzle"&&"ðŸ§©",o.id==="platformer"&&"ðŸ¦˜",o.id==="fps"&&"ðŸ”«",o.id==="moba"&&"ðŸ‘¥",o.id==="roguelike"&&"ðŸŽ²",o.id==="horror"&&"ðŸ‘»",o.id==="indie"&&"ðŸŽ¨",o.id==="casual"&&"ðŸ˜Š",G&&"ðŸŽ®"]}),e.jsxs("h3",{className:"text-white font-medium text-sm text-center mb-2",children:[o.name,G&&e.jsx("span",{className:"ml-1 text-xs text-gaming-accent",children:"Custom"})]}),e.jsx("div",{className:"flex flex-wrap gap-1 justify-center mb-3",children:(q=o.tags)==null?void 0:q.slice(0,2).map(U=>e.jsx("span",{className:"text-xs px-2 py-1 bg-gray-700/50 text-gray-300 rounded-full",children:U},U))}),x&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-400",children:"Preference"}),e.jsx("span",{className:`font-medium ${E(b).split(" ")[0].replace("from-","text-")}`,children:L(b)})]}),e.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:b,onChange:U=>{U.stopPropagation(),P(o.id,parseInt(U.target.value))},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-gaming-accent","aria-label":`Preference level for ${o.name} genre`,title:`Preference level for ${o.name} genre`,style:{background:`linear-gradient(to right, ${E(b).replace("from-","").replace(" to-",", ")}) 0%, ${E(b).replace("from-","").replace(" to-",", ")} ${b}%, #374151 ${b}%, #374151 100%)`}}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:b}),e.jsx("span",{children:"100"})]})]}),e.jsx("div",{className:"absolute top-2 right-2",children:x?e.jsx("div",{className:"w-6 h-6 bg-gaming-accent rounded-full flex items-center justify-center text-white text-xs",children:"âœ“"}):e.jsx("div",{className:"w-6 h-6 bg-gray-700 rounded-full flex items-center justify-center text-gray-400 text-xs",children:"+"})}),G&&e.jsxs("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{type:"button",onClick:U=>{U.stopPropagation(),N(o.id)},className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-xs mr-1",children:"âœï¸"}),e.jsx("button",{type:"button",onClick:U=>{U.stopPropagation(),I(o.id)},className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center text-white text-xs",children:"Ã—"})]})]}),x&&e.jsx("div",{className:`
                  absolute inset-0 rounded-lg bg-gradient-to-r ${E(b)}
                  opacity-20 blur-xl -z-10
                `})]},o.id)})}),e.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Custom Genres"}),e.jsx("button",{type:"button",onClick:()=>$(!0),className:"px-4 py-2 bg-gaming-accent text-white rounded-lg hover:opacity-90 transition-opacity",children:"+ Add Custom Genre"})]}),F&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Add New Custom Genre"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",value:C.name||"",onChange:o=>f({...C,name:o.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Genre name","aria-label":"New genre name",title:"Enter name for new custom genre"}),e.jsx("input",{type:"text",value:((Y=C.tags)==null?void 0:Y.join(", "))||"",onChange:o=>f({...C,tags:o.target.value.split(",").map(u=>u.trim()).filter(Boolean)}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Tags (comma-separated)","aria-label":"Tags for new genre",title:"Enter tags for new custom genre"})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{type:"button",onClick:()=>{$(!1),f({id:"",name:"",tags:[]})},className:"px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm",children:"Cancel"}),e.jsx("button",{type:"button",onClick:_,disabled:!((O=C.name)!=null&&O.trim()),className:"px-3 py-1 bg-gaming-accent text-white rounded hover:opacity-90 transition-opacity text-sm disabled:opacity-50",children:"Add Genre"})]})]}),A&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Edit Custom Genre"}),(()=>{var u;const o=r.find(x=>x.id===A);return o?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",value:o.name,onChange:x=>R(o.id,{name:x.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Genre name","aria-label":`Edit genre name for ${o.name}`,title:`Edit genre name for ${o.name}`}),e.jsx("input",{type:"text",value:((u=o.tags)==null?void 0:u.join(", "))||"",onChange:x=>R(o.id,{tags:x.target.value.split(",").map(b=>b.trim()).filter(Boolean)}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Tags (comma-separated)","aria-label":`Edit tags for ${o.name}`,title:`Edit tags for ${o.name}`})]}):null})(),e.jsx("div",{className:"flex gap-2 mt-3",children:e.jsx("button",{type:"button",onClick:()=>N(null),className:"px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm",children:"Done"})})]}),n.length>1&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Reorder Selected Genres"}),e.jsx("div",{className:"space-y-2",children:n.map((o,u)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-800/30 rounded-lg",children:[e.jsx("span",{className:"text-white font-medium flex-1",children:o.name}),e.jsxs("div",{className:"flex gap-1",children:[u>0&&e.jsx("button",{type:"button",onClick:()=>D(u,u-1),className:"px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-xs",children:"â†‘"}),u<n.length-1&&e.jsx("button",{type:"button",onClick:()=>D(u,u+1),className:"px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-xs",children:"â†“"})]})]},o.id))})]})]}),n.length>0&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-800/30 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Your Genre Profile"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.sort((o,u)=>u.preference-o.preference).slice(0,5).map(o=>e.jsxs("span",{className:`
                    px-3 py-1 rounded-full text-xs font-medium
                    bg-gradient-to-r ${E(o.preference)} text-white
                  `,children:[o.name," (",o.preference,"%)"]},o.id))}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Top genres influence your recommendations the most"})]}),n.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-400",children:"No genres selected yet. Click on genres above to build your gaming profile."})})]})},ae="gamepilot_user_preferences",ee={moodCustomizations:{},theme:"dark",language:"en"};function Q(){try{const g=localStorage.getItem(ae);if(g){const n=JSON.parse(g);return{...ee,...n}}}catch(g){console.warn("Failed to load user preferences:",g)}return ee}function re(g){try{const d={...Q(),...g};localStorage.setItem(ae,JSON.stringify(d))}catch(n){console.warn("Failed to save user preferences:",n)}}function xe(){return Q().moodCustomizations}function ge(g,n){const r={...Q().moodCustomizations,[g]:n};re({moodCustomizations:r})}function te(g){const n=Q(),{[g]:d,...r}=n.moodCustomizations;re({moodCustomizations:r})}function ne(g){const n=W.find(m=>m.id===g);if(!n)return{id:g,name:g,emoji:"â“",description:"Unknown mood",isCustom:!1};const r=xe()[g];return{id:g,name:(r==null?void 0:r.name)||n.name,emoji:(r==null?void 0:r.emoji)||n.emoji,description:(r==null?void 0:r.description)||n.description,isCustom:!!r}}function ue(){return W.map(g=>ne(g.id))}const he=({onMoodsUpdate:g})=>{var l;const[n,d]=y.useState([]),[r,m]=y.useState([]),[p,S]=y.useState(!0),[F,$]=y.useState(!1),[A,N]=y.useState(null),[w,C]=y.useState(null),[f,M]=y.useState({}),[_,R]=y.useState({}),[I,D]=y.useState({}),P=new H,[E,L]=y.useState({id:"",name:"",emoji:"ðŸ˜Š",color:"from-gray-500 to-gray-600",frequency:1,preference:0,associatedGenres:[]});y.useEffect(()=>{(()=>{const a=P.getUserMoods();d(a);const t=a.filter(c=>!Z.find(h=>h.id===c.id));m(t.map(c=>({id:c.id,name:c.name,emoji:c.emoji,color:c.color,frequency:c.frequency||1,preference:c.preference||0,associatedGenres:c.associatedGenres||[]}))),S(!1)})()},[]);const Y=s=>{let a=[...n];if(n.find(c=>c.id===s))a=n.filter(c=>c.id!==s);else{const c=[...Z].find(h=>h.id===s);if(c){const h={...c,preference:50,frequency:1};a=[...n,h]}else a=n}d(a),P.setUserMoods(a),P.setUserMoods(a),P.setUserMoods(a),P.setUserMoods(a),P.setUserMoods(a),g==null||g(a)},O=()=>{var a;if(!((a=E.name)!=null&&a.trim()))return;const s={id:`custom-${Date.now()}`,name:E.name.trim(),emoji:E.emoji||"ðŸ˜Š",color:E.color||"from-gray-500 to-gray-600",frequency:1,preference:0,associatedGenres:E.associatedGenres||[]};m([...r,s]),L({id:"",name:"",emoji:"ðŸ˜Š",color:"from-gray-500 to-gray-600",frequency:1,preference:0,associatedGenres:[]}),$(!1),d([...n,s]),P.setUserMoods([...n,s])},o=(s,a)=>{m(r.map(t=>t.id===s?{...t,...a}:t)),d(n.map(t=>t.id===s?{...t,...a}:t)),P.setUserMoods(n),P.setUserMoods(n),P.setUserMoods(n),P.setUserMoods(n),P.setUserMoods(n),g==null||g(n)},u=s=>{m(r.filter(t=>t.id!==s));const a=n.filter(t=>t.id!==s);d(a),P.setUserMoods(a),P.setUserMoods(a),P.setUserMoods(a),P.setUserMoods(a),g==null||g(a)},x=(s,a)=>{const t=[...n],[c]=t.splice(s,1);t.splice(a,0,c),d(t),P.setUserMoods(t),g==null||g(t)},b=(s,a)=>{const t=n.map(c=>c.id===s?{...c,preference:a}:c);d(t),P.setUserMoods(t),g==null||g(t)},G=(s,a)=>{const t=n.map(c=>c.id===s?{...c,frequency:a}:c);d(t),P.setUserMoods(t),g==null||g(t)},q=s=>{const a=ne(s);M(t=>({...t,[s]:a.name})),R(t=>({...t,[s]:a.emoji})),D(t=>({...t,[s]:a.description})),C(s)},U=s=>{var h,k,T;const a=(h=f[s])==null?void 0:h.trim(),t=(k=_[s])==null?void 0:k.trim(),c=(T=I[s])==null?void 0:T.trim();(a||t||c)&&ge(s,{...a&&{name:a},...t&&{emoji:t},...c&&{description:c}}),C(null)},B=s=>{M(a=>{const{[s]:t,...c}=a;return c}),R(a=>{const{[s]:t,...c}=a;return c}),D(a=>{const{[s]:t,...c}=a;return c}),C(null)},i=s=>{te(s),B(s)},j=()=>{confirm("Are you sure you want to reset all mood customizations to defaults?")&&(W.forEach(s=>{te(s.id)}),M({}),R({}),D({}),C(null))},v=s=>s>=80?"from-purple-500 to-pink-600":s>=60?"from-blue-500 to-cyan-600":s>=40?"from-green-500 to-teal-600":"from-gray-500 to-gray-600",V=s=>s>=80?"Love":s>=60?"Like":s>=40?"Sometimes":"Rarely",J=s=>s>=5?"Very Often":s>=3?"Often":s>=1?"Sometimes":"Rarely";return p?e.jsxs("div",{className:"glass-morphism rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-xl mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"ðŸ˜Š"})}),e.jsx("p",{className:"text-gray-400",children:"Loading moods..."})]}):e.jsxs("div",{className:"glass-morphism rounded-xl p-6 cinematic-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-white flex items-center gap-3",children:[e.jsx("span",{children:"ðŸ˜Š"}),"Gaming Moods"]}),e.jsxs("div",{className:"text-sm text-gray-400",children:[n.length," selected"]})]}),e.jsx("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-300",children:"Select the moods you experience while gaming. This helps us recommend games that match your emotional state."})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Z,...r].map(s=>{const a=n.find(T=>T.id===s.id),t=!!a,c=(a==null?void 0:a.preference)||0,h=(a==null?void 0:a.frequency)||0,k=r.find(T=>T.id===s.id);return e.jsxs("div",{className:`
                relative group cursor-pointer transition-all duration-300 transform
                ${t?"scale-105":"scale-100"}
                ${t?"ring-2 ring-gaming-accent":""}
              `,onClick:()=>Y(s.id),children:[e.jsxs("div",{className:`
                glass-morphism rounded-lg p-4 border-2 transition-all duration-200
                ${t?"border-gaming-accent bg-gaming-accent/10":"border-gray-700 hover:border-gray-600"}
              `,children:[e.jsx("div",{className:`
                  w-16 h-16 rounded-xl mx-auto mb-3 flex items-center justify-center text-3xl
                  bg-gradient-to-r ${t?v(c):s.color}
                `,children:s.emoji}),e.jsxs("h3",{className:"text-white font-medium text-sm text-center mb-2",children:[s.name,k&&e.jsx("span",{className:"ml-1 text-xs text-gaming-accent",children:"Custom"})]}),t&&e.jsxs("div",{className:"mt-3 space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Preference"}),e.jsx("span",{className:`font-medium ${v(c).split(" ")[0].replace("from-","text-")}`,children:V(c)})]}),e.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:c,onChange:T=>{T.stopPropagation(),b(s.id,parseInt(T.target.value))},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-gaming-accent","aria-label":`Preference level for ${s.name} mood`,title:`Preference level for ${s.name} mood`,style:{background:`linear-gradient(to right, ${v(c).replace("from-","").replace(" to-",", ")}) 0%, ${v(c).replace("from-","").replace(" to-",", ")} ${c}%, #374151 ${c}%, #374151 100%)`}})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"Frequency"}),e.jsx("span",{className:"text-gray-300",children:J(h)})]}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(T=>e.jsx("button",{onClick:ie=>{ie.stopPropagation(),G(s.id,T)},className:`
                          flex-1 h-6 rounded text-xs font-medium transition-colors
                          ${h>=T?"bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}
                        `,children:T},T))})]})]}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[t?e.jsx("div",{className:"w-6 h-6 bg-gaming-accent rounded-full flex items-center justify-center text-white text-xs",children:"âœ“"}):e.jsx("div",{className:"w-6 h-6 bg-gray-700 rounded-full flex items-center justify-center text-gray-400 text-xs",children:"+"}),t&&e.jsx("button",{onClick:T=>{T.stopPropagation(),q(s.id)},className:"w-6 h-6 bg-purple-600 hover:bg-purple-700 rounded-full flex items-center justify-center text-white text-xs opacity-0 group-hover:opacity-100 transition-opacity",title:`Customize ${s.name} display`,children:"ðŸŽ¨"})]}),k&&e.jsxs("div",{className:"absolute top-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{type:"button",onClick:T=>{T.stopPropagation(),N(s.id)},className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center text-white text-xs mr-1",children:"âœï¸"}),e.jsx("button",{type:"button",onClick:T=>{T.stopPropagation(),u(s.id)},className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center text-white text-xs",children:"Ã—"})]})]}),t&&e.jsx("div",{className:`
              absolute inset-0 rounded-lg bg-gradient-to-r ${v(c)}
              opacity-20 blur-xl -z-10
            `})]},s.id)})}),w&&e.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-3",children:[e.jsx("span",{children:"ðŸŽ¨"}),"Customize Mood Display"]}),e.jsx("button",{onClick:j,className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm",children:"Reset All"})]}),e.jsx("div",{className:"space-y-4",children:(()=>{var a,t,c;const s=ue().find(h=>h.id===w);return s?e.jsxs("div",{className:"p-6 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("span",{className:"text-3xl",children:s.emoji}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white",children:s.name}),e.jsx("p",{className:"text-sm text-gray-400",children:s.description}),s.isCustom&&e.jsx("span",{className:"text-xs text-gaming-primary",children:"(Custom)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:f[w]||"",onChange:h=>M(k=>({...k,[w]:h.target.value})),placeholder:(a=W.find(h=>h.id===w))==null?void 0:a.name,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:border-gaming-accent focus:outline-none",maxLength:30})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Emoji"}),e.jsx("input",{type:"text",value:_[w]||"",onChange:h=>R(k=>({...k,[w]:h.target.value})),placeholder:(t=W.find(h=>h.id===w))==null?void 0:t.emoji,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:border-gaming-accent focus:outline-none",maxLength:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),e.jsx("input",{type:"text",value:I[w]||"",onChange:h=>D(k=>({...k,[w]:h.target.value})),placeholder:(c=W.find(h=>h.id===w))==null?void 0:c.description,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded text-white placeholder-gray-400 focus:border-gaming-accent focus:outline-none",maxLength:100})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>U(w),className:"px-4 py-2 bg-gaming-primary hover:bg-gaming-primary/80 text-white rounded-lg transition-colors",children:"Save Changes"}),e.jsx("button",{onClick:()=>B(w),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>i(w),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors ml-auto",children:"Reset to Default"})]})]}):null})()}),e.jsx("div",{className:"mt-4 p-3 bg-gaming-surface/50 border border-gaming-border rounded-lg",children:e.jsxs("p",{className:"text-sm text-gaming-text-muted",children:["ðŸ’¡ ",e.jsx("strong",{children:"Tip:"})," Customize mood names and emojis to make them more personal to you! The underlying mood categories remain the same - only the display changes."]})})]}),e.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Custom Moods"}),e.jsx("button",{type:"button",onClick:()=>$(!0),className:"px-4 py-2 bg-gaming-accent text-white rounded-lg hover:opacity-90 transition-opacity",children:"+ Add Custom Mood"})]}),F&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Add New Custom Mood"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsx("input",{type:"text",value:E.name,onChange:s=>L({...E,name:s.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Mood name","aria-label":"New mood name",title:"Enter name for new custom mood"}),e.jsx("input",{type:"text",value:E.emoji,onChange:s=>L({...E,emoji:s.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Emoji",maxLength:2,"aria-label":"New mood emoji",title:"Enter emoji for new custom mood"}),e.jsxs("select",{value:E.color,onChange:s=>L({...E,color:s.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm","aria-label":"New mood color",children:[e.jsx("option",{value:"from-gray-500 to-gray-600",children:"Gray"}),e.jsx("option",{value:"from-red-500 to-rose-600",children:"Red"}),e.jsx("option",{value:"from-orange-500 to-amber-600",children:"Orange"}),e.jsx("option",{value:"from-yellow-500 to-lime-600",children:"Yellow"}),e.jsx("option",{value:"from-green-500 to-emerald-600",children:"Green"}),e.jsx("option",{value:"from-blue-500 to-indigo-600",children:"Blue"}),e.jsx("option",{value:"from-purple-500 to-pink-600",children:"Purple"}),e.jsx("option",{value:"from-teal-500 to-cyan-600",children:"Teal"})]}),e.jsx("input",{type:"text",value:E.associatedGenres.join(", "),onChange:s=>L({...E,associatedGenres:s.target.value.split(",").map(a=>a.trim()).filter(a=>a)}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm lg:col-span-3",placeholder:"Associated genres (comma separated)","aria-label":"Associated genres for new mood",title:"Enter associated genres for new custom mood"})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{type:"button",onClick:()=>{$(!1),L({id:"",name:"",emoji:"ðŸ˜Š",color:"from-gray-500 to-gray-600",frequency:1,preference:0,associatedGenres:[]})},className:"px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm",children:"Cancel"}),e.jsx("button",{type:"button",onClick:O,disabled:!((l=E.name)!=null&&l.trim()),className:"px-3 py-1 bg-gaming-accent text-white rounded hover:opacity-90 transition-opacity text-sm disabled:opacity-50",children:"Add Mood"})]})]}),A&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Edit Custom Mood"}),(()=>{const s=r.find(a=>a.id===A);return s?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsx("input",{type:"text",value:s.name,onChange:a=>o(s.id,{name:a.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Mood name","aria-label":`Edit mood name for ${s.name}`,title:`Edit mood name for ${s.name}`}),e.jsx("input",{type:"text",value:s.emoji,onChange:a=>o(s.id,{emoji:a.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Emoji",maxLength:2,"aria-label":`Edit mood emoji for ${s.name}`,title:`Edit mood emoji for ${s.name}`}),e.jsxs("select",{value:s.color,onChange:a=>o(s.id,{color:a.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm","aria-label":`Edit color for ${s.name} mood`,children:[e.jsx("option",{value:"from-gray-500 to-gray-600",children:"Gray"}),e.jsx("option",{value:"from-red-500 to-rose-600",children:"Red"}),e.jsx("option",{value:"from-orange-500 to-amber-600",children:"Orange"}),e.jsx("option",{value:"from-yellow-500 to-lime-600",children:"Yellow"}),e.jsx("option",{value:"from-green-500 to-emerald-600",children:"Green"}),e.jsx("option",{value:"from-blue-500 to-indigo-600",children:"Blue"}),e.jsx("option",{value:"from-purple-500 to-pink-600",children:"Purple"}),e.jsx("option",{value:"from-teal-500 to-cyan-600",children:"Teal"})]}),e.jsx("input",{type:"text",value:s.associatedGenres.join(", "),onChange:a=>o(s.id,{associatedGenres:a.target.value.split(",").map(t=>t.trim()).filter(Boolean)}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm lg:col-span-3",placeholder:"Associated genres (comma-separated)","aria-label":`Edit associated genres for ${s.name}`,title:`Edit associated genres for ${s.name}`})]}):null})(),e.jsx("div",{className:"flex gap-2 mt-3",children:e.jsx("button",{type:"button",onClick:()=>N(null),className:"px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm",children:"Done"})})]}),n.length>1&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Reorder Selected Moods"}),e.jsx("div",{className:"space-y-2",children:n.map((s,a)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-800/30 rounded-lg",children:[e.jsx("span",{className:"text-2xl",children:s.emoji}),e.jsx("span",{className:"text-white font-medium flex-1",children:s.name}),e.jsxs("div",{className:"flex gap-1",children:[a>0&&e.jsx("button",{type:"button",onClick:()=>x(a,a-1),className:"px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-xs",children:"â†‘"}),a<n.length-1&&e.jsx("button",{type:"button",onClick:()=>x(a,a+1),className:"px-2 py-1 bg-gray-700 text-white rounded hover:bg-gray-600 text-xs",children:"â†“"})]})]},s.id))})]})]}),n.length>0&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-800/30 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-3",children:"Your Mood Profile"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:n.sort((s,a)=>a.preference*a.frequency-s.preference*s.frequency).slice(0,5).map(s=>e.jsxs("span",{className:`
                px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1
                bg-gradient-to-r ${v(s.preference)} text-white
              `,children:[e.jsx("span",{children:s.emoji}),s.name]},s.id))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400",children:"Most Frequent"}),e.jsxs("div",{className:"text-white font-medium",children:[n.reduce((s,a)=>a.frequency>s.frequency?a:s).emoji," ",n.reduce((s,a)=>a.frequency>s.frequency?a:s).name]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400",children:"Highest Preference"}),e.jsxs("div",{className:"text-white font-medium",children:[n.reduce((s,a)=>a.preference>s.preference?a:s).emoji," ",n.reduce((s,a)=>a.preference>s.preference?a:s).name]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400",children:"Avg Preference"}),e.jsxs("div",{className:"text-white font-medium",children:[Math.round(n.reduce((s,a)=>s+a.preference,0)/n.length),"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-400",children:"Total Moods"}),e.jsx("div",{className:"text-white font-medium",children:n.length})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Your mood preferences help us suggest the perfect games for how you're feeling"})]}),n.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-400",children:"No moods selected yet. Click on moods above to tell us how you like to feel while gaming."})})]})},pe=({onPlaystyleUpdate:g})=>{var Y,O,o,u,x,b,G,q,U,B,i,j,v,V,J,l,s,a;const n=new H,[d,r]=y.useState(null),[m,p]=y.useState({}),[S,F]=y.useState([]),[$,A]=y.useState(!0),[N,w]=y.useState(!1),[C,f]=y.useState({id:"",name:"",description:"",icon:"ðŸŽ®",color:"from-gray-500 to-gray-600",traits:[]});y.useEffect(()=>{(()=>{const c=n.getUserPlaystyle();if(c)r(c),p(c),F(c.customPlaystyles||[]);else{const h=n.initializeDefaultData().playstyle;r(h),p(h),F(h.customPlaystyles||[])}A(!1)})()},[]);const M=()=>{if(!d)return;const t={...d,...m,preferences:{...d.preferences,...m.preferences},customPlaystyles:S};n.setUserPlaystyle(t),r(t),w(!1),g==null||g(t)},_=()=>{const t=n.initializeDefaultData().playstyle;p(t),n.setUserPlaystyle(t)},R=t=>{const h=[...K,...S].find(k=>k.id===t);h&&p(k=>({...k,primary:h}))},I=t=>{if(t==="none")p(c=>({...c,secondary:void 0}));else{const h=[...K,...S].find(k=>k.id===t);h&&p(k=>({...k,secondary:h}))}},D=()=>{var h;if(!((h=C.name)!=null&&h.trim()))return;const t={id:`custom-${Date.now()}`,name:C.name.trim(),description:C.description||"",icon:C.icon||"ðŸŽ®",color:C.color||"from-gray-500 to-gray-600",traits:C.traits||[]},c=[...S,t];F(c),f({id:"",name:"",description:"",icon:"ðŸŽ®",color:"from-gray-500 to-gray-600",traits:[]}),w(!1)},P=(t,c)=>{p(h=>({...h,preferences:{...h.preferences,[t]:c}}))},E=t=>{const c=S.filter(h=>h.id!==t);F(c)},L=t=>{const c=m.traits||(d==null?void 0:d.traits)||[],h=c.includes(t)?c.filter(k=>k!==t):[...c,t];p(k=>({...k,traits:h}))};return $?e.jsxs("div",{className:"glass-morphism rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-xl mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"ðŸŽ¯"})}),e.jsx("p",{className:"text-gray-400",children:"Loading playstyle..."})]}):d?e.jsxs("div",{className:"glass-morphism rounded-xl p-6 cinematic-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-white flex items-center gap-3",children:[e.jsx("span",{children:"ðŸŽ¯"}),"Playstyle Profile"]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:_,className:"px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",title:"Reset playstyle to default","aria-label":"Reset playstyle to default",children:"Reset to Default"}),e.jsx("button",{onClick:M,className:"px-4 py-2 bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white rounded-lg hover:opacity-90 transition-opacity",title:"Save playstyle changes","aria-label":"Save playstyle changes",children:"Save Changes"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Primary Playstyle"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...K,...S].map(t=>{var h;const c=S.find(k=>k.id===t.id);return e.jsxs("button",{onClick:()=>R(t.id),className:`
                    relative group cursor-pointer transition-all duration-300 transform
                    ${((h=m.primary)==null?void 0:h.id)===t.id?"scale-105 ring-2 ring-gaming-accent":"scale-100 hover:scale-102"}
                  `,title:`Select ${t.name} as primary playstyle`,"aria-label":`Select ${t.name} as primary playstyle`,children:[c&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),E(t.id)},className:"w-5 h-5 bg-red-600 rounded-full flex items-center justify-center text-white text-xs hover:bg-red-700",title:`Remove custom playstyle ${t.name}`,"aria-label":`Remove custom playstyle ${t.name}`,children:"Ã—"})}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`
                      w-10 h-10 rounded-lg flex items-center justify-center text-xl
                      bg-gradient-to-r ${t.color}
                    `,children:t.icon}),e.jsxs("span",{className:"text-white font-medium",children:[t.name,c&&e.jsx("span",{className:"ml-1 text-xs text-gaming-accent",children:"Custom"})]})]}),e.jsx("p",{className:"text-xs text-gray-400",children:t.description})]},t.id)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Secondary Playstyle (Optional)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>I("none"),className:`
                w-full p-3 rounded-lg border-2 transition-all duration-200 text-left
                ${m.secondary?"border-gray-700 hover:border-gray-600":"border-gaming-accent bg-gaming-accent/10"}
              `,title:"Select no secondary playstyle","aria-label":"Select no secondary playstyle",children:e.jsx("span",{className:"text-gray-400",children:"No secondary playstyle"})}),[...K,...S].filter(t=>{var c;return t.id!==((c=m.primary)==null?void 0:c.id)}).map(t=>{var h;const c=S.find(k=>k.id===t.id);return e.jsxs("button",{onClick:()=>I(t.id),className:`
                      w-full p-3 rounded-lg border-2 transition-all duration-200 text-left relative
                      ${((h=m.secondary)==null?void 0:h.id)===t.id?"border-gaming-accent bg-gaming-accent/10":"border-gray-700 hover:border-gray-600"}
                    `,title:`Select ${t.name} as secondary playstyle`,"aria-label":`Select ${t.name} as secondary playstyle`,children:[c&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),E(t.id)},className:"w-5 h-5 bg-red-600 rounded-full flex items-center justify-center text-white text-xs hover:bg-red-700",title:`Remove custom playstyle ${t.name}`,"aria-label":`Remove custom playstyle ${t.name}`,children:"Ã—"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`
                        w-8 h-8 rounded-lg flex items-center justify-center text-sm
                        bg-gradient-to-r ${t.color}
                      `,children:t.icon}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-white font-medium",children:[t.name,c&&e.jsx("span",{className:"ml-1 text-xs text-gaming-accent",children:"Custom"})]}),e.jsx("p",{className:"text-xs text-gray-400",children:t.description})]})]})]},t.id)})]})]})]}),e.jsxs("div",{className:"mt-8 space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Gaming Preferences"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Length"}),e.jsxs("select",{value:((Y=m.preferences)==null?void 0:Y.sessionLength)||"medium",onChange:t=>P("sessionLength",t.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",children:[e.jsx("option",{value:"short",children:"âš¡ Short (0-30 min)"}),e.jsx("option",{value:"medium",children:"â±ï¸ Medium (30-90 min)"}),e.jsx("option",{value:"long",children:"ðŸ• Long (90+ min)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Difficulty Preference"}),e.jsxs("select",{value:((O=m.preferences)==null?void 0:O.difficulty)||"normal",onChange:t=>P("difficulty",t.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",children:[e.jsx("option",{value:"casual",children:"ðŸ˜Œ Casual"}),e.jsx("option",{value:"normal",children:"ðŸŽ¯ Normal"}),e.jsx("option",{value:"hard",children:"ðŸ’ª Hard"}),e.jsx("option",{value:"expert",children:"ðŸ”¥ Expert"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Social Preference"}),e.jsxs("select",{value:((o=m.preferences)==null?void 0:o.socialPreference)||"solo",onChange:t=>P("socialPreference",t.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-gaming-accent focus:outline-none",children:[e.jsx("option",{value:"solo",children:"ðŸ‘¤ Solo"}),e.jsx("option",{value:"cooperative",children:"ðŸ¤ Cooperative"}),e.jsx("option",{value:"competitive",children:"âš”ï¸ Competitive"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-300",children:"Focus Areas"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm text-gray-300",children:"Story Focus"}),e.jsxs("span",{className:"text-sm text-white",children:[((u=m.preferences)==null?void 0:u.storyFocus)||70,"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"100",value:((x=m.preferences)==null?void 0:x.storyFocus)||70,onChange:t=>P("storyFocus",parseInt(t.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-gaming-accent"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm text-gray-300",children:"Graphics Focus"}),e.jsxs("span",{className:"text-sm text-white",children:[((b=m.preferences)==null?void 0:b.graphicsFocus)||60,"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"100",value:((G=m.preferences)==null?void 0:G.graphicsFocus)||60,onChange:t=>P("graphicsFocus",parseInt(t.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-gaming-accent"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm text-gray-300",children:"Gameplay Focus"}),e.jsxs("span",{className:"text-sm text-white",children:[((q=m.preferences)==null?void 0:q.gameplayFocus)||80,"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"100",value:((U=m.preferences)==null?void 0:U.gameplayFocus)||80,onChange:t=>P("gameplayFocus",parseInt(t.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-gaming-accent"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Personality Traits"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(i=(B=m.primary)==null?void 0:B.traits)==null?void 0:i.map(t=>e.jsx("button",{onClick:()=>L(t),className:`
                  px-3 py-1 rounded-full text-sm transition-all duration-200
                  ${(m.traits||[]).includes(t)?"bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}
                `,children:t},t)),(v=(j=m.secondary)==null?void 0:j.traits)==null?void 0:v.map(t=>e.jsx("button",{onClick:()=>L(t),className:`
                  px-3 py-1 rounded-full text-sm transition-all duration-200
                  ${(m.traits||[]).includes(t)?"bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}
                `,children:t},t))]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Select traits that describe your gaming personality"})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-gray-800/30 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Your Playstyle Profile"}),e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`
              w-10 h-10 rounded-lg flex items-center justify-center
              bg-gradient-to-r ${(V=m.primary)==null?void 0:V.color}
            `,children:(J=m.primary)==null?void 0:J.icon}),e.jsx("span",{className:"text-white font-medium",children:(l=m.primary)==null?void 0:l.name})]}),m.secondary&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-500",children:"+"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`
                  w-10 h-10 rounded-lg flex items-center justify-center
                  bg-gradient-to-r ${m.secondary.color}
                `,children:m.secondary.icon}),e.jsx("span",{className:"text-white font-medium",children:m.secondary.name})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(m.traits||[]).map(t=>e.jsx("span",{className:"px-2 py-1 bg-gaming-primary/20 text-gaming-primary rounded text-xs",children:t},t))})]}),e.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Custom Playstyles"}),e.jsx("button",{type:"button",onClick:()=>w(!0),className:"px-4 py-2 bg-gaming-accent text-white rounded-lg hover:opacity-90 transition-opacity",children:"+ Add Custom Playstyle"})]}),N&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Add New Custom Playstyle"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("input",{type:"text",value:C.name,onChange:t=>f({...C,name:t.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Playstyle name"}),e.jsx("input",{type:"text",value:C.description,onChange:t=>f({...C,description:t.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Description"}),e.jsx("input",{type:"text",value:C.icon,onChange:t=>f({...C,icon:t.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",placeholder:"Emoji",maxLength:2}),e.jsxs("select",{value:C.color,onChange:t=>f({...C,color:t.target.value}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm",children:[e.jsx("option",{value:"from-gray-500 to-gray-600",children:"Gray"}),e.jsx("option",{value:"from-red-500 to-rose-600",children:"Red"}),e.jsx("option",{value:"from-orange-500 to-amber-600",children:"Orange"}),e.jsx("option",{value:"from-yellow-500 to-lime-600",children:"Yellow"}),e.jsx("option",{value:"from-green-500 to-emerald-600",children:"Green"}),e.jsx("option",{value:"from-blue-500 to-indigo-600",children:"Blue"}),e.jsx("option",{value:"from-purple-500 to-pink-600",children:"Purple"}),e.jsx("option",{value:"from-teal-500 to-cyan-600",children:"Teal"})]}),e.jsx("input",{type:"text",value:((s=C.traits)==null?void 0:s.join(", "))||"",onChange:t=>f({...C,traits:t.target.value.split(",").map(c=>c.trim()).filter(Boolean)}),className:"px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm md:col-span-2",placeholder:"Traits (comma-separated)"})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{type:"button",onClick:()=>{w(!1),f({id:"",name:"",description:"",icon:"ðŸŽ®",color:"from-gray-500 to-gray-600",traits:[]})},className:"px-3 py-1 bg-gray-600 text-white rounded hover:bg-gray-700 text-sm",children:"Cancel"}),e.jsx("button",{type:"button",onClick:D,disabled:!((a=C.name)!=null&&a.trim()),className:"px-3 py-1 bg-gaming-accent text-white rounded hover:opacity-90 transition-opacity text-sm disabled:opacity-50",children:"Add Playstyle"})]})]}),S.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:"Your Custom Playstyles"}),e.jsx("div",{className:"space-y-2",children:S.map(t=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-800/30 rounded-lg",children:[e.jsx("div",{className:`
                    w-10 h-10 rounded-lg flex items-center justify-center
                    bg-gradient-to-r ${t.color}
                  `,children:t.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white font-medium",children:t.name}),e.jsx("div",{className:"text-xs text-gray-400",children:t.description})]}),e.jsx("button",{type:"button",onClick:()=>{},className:"px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-xs",children:"Edit"}),e.jsx("button",{type:"button",onClick:()=>E(t.id),className:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-xs",children:"Delete"})]},t.id))})]})]})]}):e.jsxs("div",{className:"glass-morphism rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-xl mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"âš ï¸"})}),e.jsx("p",{className:"text-gray-400",children:"Unable to load playstyle"})]})},ye=new H,Ce=()=>{var u;const{intelligence:g,actions:n,games:d}=se(),[r,m]=y.useState("profile"),[p,S]=y.useState(null),[F,$]=y.useState(null),[A,N]=y.useState([]),[w,C]=y.useState([]),[f,M]=y.useState(null),[_,R]=y.useState(!0);le();const{primaryMood:I,hasRecommendations:D}=oe({games:d});y.useEffect(()=>{(()=>{const b=ye.initializeDefaultData();S(b.profile),$(b.preferences),M(b.playstyle),N(g.preferredGenres.map(G=>({id:G,name:G?G.charAt(0).toUpperCase()+G.slice(1):"Unknown",preference:75}))),C(g.preferredMoods.map(G=>({id:G,name:G?G.charAt(0).toUpperCase()+G.slice(1):"Unknown",emoji:"ðŸ˜Š",color:"#3b82f6",frequency:3,preference:75,associatedGenres:[]}))),R(!1)})()},[g.preferredGenres,g.preferredMoods]);const P=x=>{S(x)},E=x=>{$(x)},L=x=>{N(x),n.setPreferredGenres(x.map(b=>b.id))},Y=x=>{C(x),n.setPreferredMoods(x.map(b=>b.id))},O=x=>{M(x),n.setPreferredSessionStyle(x.preferences.sessionLength)},o=[{id:"profile",label:"Profile",icon:"ðŸ‘¤"},{id:"preferences",label:"Preferences",icon:"âš™ï¸"},{id:"genres",label:"Genres",icon:"ðŸŽ­"},{id:"moods",label:"Moods",icon:"ðŸ˜Š"},{id:"playstyle",label:"Playstyle",icon:"ðŸŽ¯"}];return _?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-xl mx-auto mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl",children:"ðŸ‘¤"})}),e.jsx("p",{className:"text-gray-400",children:"Loading your identity..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gaming-dark via-gray-900 to-gaming-darker",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("header",{className:"mb-16",children:e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold font-gaming bg-gradient-to-r from-gaming-primary to-gaming-accent to-gaming-secondary bg-clip-text text-transparent mb-2",children:"Gaming Identity"}),e.jsx("p",{className:"text-gray-300",children:"Your unified profile across all gaming platforms"}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[e.jsxs("a",{href:"/customisation",className:"flex items-center gap-2 px-3 py-2 bg-purple-500/20 hover:bg-purple-500/30 text-purple-300 rounded-lg transition-colors",children:[e.jsx("span",{children:"ðŸŽ¨"}),e.jsx("span",{children:"Customize Appearance"})]}),e.jsx("span",{className:"text-gray-500",children:"â€¢"}),e.jsx("span",{className:"text-gray-400",children:"Personalize themes, colors, and presets"})]}),D&&I&&e.jsx("div",{className:"mt-4 pt-4 border-t border-purple-500/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Current Mood:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ðŸ˜Š"}),e.jsx("span",{className:"text-white font-medium",children:I})]})]})})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:"0"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Achievements"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"0"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Snapshots"})]}),e.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white rounded-lg font-medium transition-all transform hover:scale-105 flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ†"}),"View Achievements"]})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex flex-wrap gap-2 p-1 glass-morphism rounded-xl",children:o.map(x=>e.jsxs("button",{onClick:()=>m(x.id),className:`
                  flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-200
                  ${r===x.id?"bg-gradient-to-r from-gaming-primary to-gaming-secondary text-white":"text-gray-400 hover:text-white hover:bg-gray-800/50"}
                `,children:[e.jsx("span",{children:x.icon}),e.jsx("span",{children:x.label})]},x.id))})}),e.jsxs("div",{className:"space-y-6",children:[r==="profile"&&e.jsx(ce,{onProfileUpdate:P}),r==="preferences"&&e.jsx(de,{onPreferencesUpdate:E}),r==="genres"&&e.jsx(me,{onGenresUpdate:L}),r==="moods"&&e.jsx(he,{onMoodsUpdate:Y}),r==="playstyle"&&e.jsx(pe,{onPlaystyleUpdate:O})]}),e.jsxs("div",{className:"mt-12 glass-morphism rounded-xl p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-3",children:[e.jsx("span",{children:"ðŸ“Š"}),"Identity Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-gaming-primary to-gaming-secondary rounded-lg mx-auto mb-2 flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸ‘¤"})}),e.jsx("h3",{className:"text-white font-medium mb-1",children:p==null?void 0:p.displayName}),e.jsxs("p",{className:"text-sm text-gray-400",children:["@",p==null?void 0:p.username]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg mx-auto mb-2 flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸŽ­"})}),e.jsxs("h3",{className:"text-white font-medium mb-1",children:[A.length," Genres"]}),e.jsx("p",{className:"text-sm text-gray-400",children:A.length>0?A[0].name:"None selected"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-lg mx-auto mb-2 flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸ˜Š"})}),e.jsxs("h3",{className:"text-white font-medium mb-1",children:[w.length," Moods"]}),e.jsx("p",{className:"text-sm text-gray-400",children:w.length>0?w[0].name:"None selected"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-teal-600 rounded-lg mx-auto mb-2 flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:"ðŸŽ¯"})}),e.jsx("h3",{className:"text-white font-medium mb-1",children:f==null?void 0:f.primary.name}),e.jsx("p",{className:"text-sm text-gray-400",children:((u=f==null?void 0:f.secondary)==null?void 0:u.name)||"No secondary"})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Profile Completion"}),e.jsxs("span",{className:"text-sm text-white",children:[Math.round((p!=null&&p.displayName?20:0)+(A.length>0?20:0)+(w.length>0?20:0)+(f!=null&&f.primary?20:0)+(F?20:0)),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-gaming-primary to-gaming-secondary h-2 rounded-full transition-all duration-500",style:{width:`${(p!=null&&p.displayName?20:0)+(A.length>0?20:0)+(w.length>0?20:0)+(f!=null&&f.primary?20:0)+(F?20:0)}%`}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Complete your profile to get better recommendations and a more personalized experience."})]})]})]})})};export{Ce as Identity};
